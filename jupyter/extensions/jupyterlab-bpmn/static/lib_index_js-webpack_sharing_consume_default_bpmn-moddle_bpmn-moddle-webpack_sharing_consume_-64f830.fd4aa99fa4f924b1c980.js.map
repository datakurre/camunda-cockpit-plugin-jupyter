{"version":3,"file":"lib_index_js-webpack_sharing_consume_default_bpmn-moddle_bpmn-moddle-webpack_sharing_consume_-64f830.fd4aa99fa4f924b1c980.js","mappings":";;;;;;;;;;;;;;;;;;AAAgD;AACY;AACX;AACmB;AACpE,kCAAkC;AAClC;AACe;AACf,IAAI,0EAAiB;AACrB;AACA,eAAe,8DAAE;AACjB;AACA;AACA;AACA,oBAAoB,gDAAS;AAC7B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ,gDAAS;AACjB;AACA;AACA;AACA;AACA,gEAAQ,gBAAgB,qEAAY;AACpC;;;;;;;;;;;;;;;;AC1BsD;AACtD;AACA;AACA,iCAAiC,wDAAkB;AACnD;AACA,iEAAe,WAAW,EAAC;;;;;;;;;;;;;;;;;;;;;;;ACLc;AACY;AACM;AACG;AACtB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,2BAA2B,mDAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gEAAU;AAC3C,wCAAwC,iDAAW,EAAE,kEAAc,EAAE,qEAAc;AACnF,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,wDAAwD,iBAAiB,sBAAsB;AAC/F;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iEAAe,SAAS,EAAC","sources":["webpack://jupyterlab-bpmn/./lib/RobotModule/RobotFrameworkTask.js","webpack://jupyterlab-bpmn/./lib/RobotModule/index.js","webpack://jupyterlab-bpmn/./lib/index.js"],"sourcesContent":["import { is } from 'bpmn-js/lib/util/ModelUtil';\nimport BaseRenderer from 'diagram-js/lib/draw/BaseRenderer';\nimport inherits from 'inherits/inherits_browser';\nimport { append as svgAppend, create as svgCreate } from 'tiny-svg';\nconst Robot = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmlld0JveD0iMCAwIDIwMi40MzI1IDIwMi4zNDEyNSIKICAgaGVpZ2h0PSIyMDIuMzQxMjUiCiAgIHdpZHRoPSIyMDIuNDMyNSIKICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiI+PG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhOCI+PHJkZjpSREY+PGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PGRlZnMKICAgICBpZD0iZGVmczYiPjxjbGlwUGF0aAogICAgICAgaWQ9ImNsaXBQYXRoMTYiCiAgICAgICBjbGlwUGF0aFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGgKICAgICAgICAgaWQ9InBhdGgxOCIKICAgICAgICAgZD0ibSAwLDE2MS44NzMgMTYxLjk0NiwwIEwgMTYxLjk0NiwwIDAsMCAwLDE2MS44NzMgWiIgLz48L2NsaXBQYXRoPjwvZGVmcz48ZwogICAgIHRyYW5zZm9ybT0ibWF0cml4KDEuMjUsMCwwLC0xLjI1LDAsMjAyLjM0MTI1KSIKICAgICBpZD0iZzEwIj48ZwogICAgICAgaWQ9ImcxMiI+PGcKICAgICAgICAgY2xpcC1wYXRoPSJ1cmwoI2NsaXBQYXRoMTYpIgogICAgICAgICBpZD0iZzE0Ij48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyLjQ0NzcsODguMTI2OCkiCiAgICAgICAgICAgaWQ9ImcyMCI+PHBhdGgKICAgICAgICAgICAgIGlkPSJwYXRoMjIiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIgogICAgICAgICAgICAgZD0ibSAwLDAgYyAwLDcuNiA2LjE3OSwxMy43NzkgMTMuNzcsMTMuNzc5IDcuNiwwIDEzLjc3OSwtNi4xNzkgMTMuNzc5LC0xMy43NzkgMCwtMi43NjkgLTIuMjM4LC01LjAwNyAtNC45OTgsLTUuMDA3IC0yLjc2MSwwIC00Ljk5OSwyLjIzOCAtNC45OTksNS4wMDcgMCwyLjA3OCAtMS42OTUsMy43NjUgLTMuNzgyLDMuNzY1IEMgMTEuNjkzLDMuNzY1IDkuOTk3LDIuMDc4IDkuOTk3LDAgOS45OTcsLTIuNzY5IDcuNzYsLTUuMDA3IDQuOTk5LC01LjAwNyAyLjIzOCwtNS4wMDcgMCwtMi43NjkgMCwwIG0gNTcuMDUsLTIzLjE1MyBjIDAsLTIuNzcxIC0yLjIzNywtNS4wMDcgLTQuOTk4LC01LjAwNyBsIC00Ni4zNzgsMCBjIC0yLjc2MSwwIC00Ljk5OSwyLjIzNiAtNC45OTksNS4wMDcgMCwyLjc2OSAyLjIzOCw1LjAwNyA0Ljk5OSw1LjAwNyBsIDQ2LjM3OCwwIGMgMi43NjEsMCA0Ljk5OCwtMi4yMzggNC45OTgsLTUuMDA3IE0gMzUuMzc5LC0yLjgwNSBjIC0xLjU0NSwyLjI5MSAtMC45NDEsNS4zOTggMS4zNSw2Ljk0MyBsIDExLjU5NCw3LjgzIGMgMi4yNzMsMS41OCA1LjM5OCwwLjk0MSA2Ljk0MywtMS4zMzIgMS41NDUsLTIuMjkgMC45NDEsLTUuMzk4IC0xLjM1LC02Ljk0MyBsIC0xMS41OTQsLTcuODMgYyAtMC44NTIsLTAuNTg2IC0xLjgyOSwtMC44NyAtMi43ODgsLTAuODcgLTEuNjA3LDAgLTMuMTg3LDAuNzgxIC00LjE1NSwyLjIwMiBtIDMxLjc0OCwtMzAuNzg2IGMgMCwtMC45NDUgLTAuMzc2LC0xLjg1MiAtMS4wNDUsLTIuNTIyIGwgLTguNjE3LC04LjYxNyBjIC0wLjY2OSwtMC42NjggLTEuNTc2LC0xLjA0NSAtMi41MjMsLTEuMDQ1IGwgLTUyLjgzMywwIGMgLTAuOTQ3LDAgLTEuODU0LDAuMzc3IC0yLjUyMywxLjA0NSBsIC04LjYxNyw4LjYxNyBjIC0wLjY2OSwwLjY3IC0xLjA0NSwxLjU3NyAtMS4wNDUsMi41MjIgbCAwLDUyLjc5OSBjIDAsMC45NDcgMC4zNzYsMS44NTQgMS4wNDUsMi41MjIgbCA4LjYxNyw4LjYxOSBjIDAuNjY5LDAuNjY4IDEuNTc2LDEuMDQ0IDIuNTIzLDEuMDQ0IGwgNTIuODMzLDAgYyAwLjk0NywwIDEuODU0LC0wLjM3NiAyLjUyMywtMS4wNDQgbCA4LjYxNywtOC42MTkgYyAwLjY2OSwtMC42NjggMS4wNDUsLTEuNTc1IDEuMDQ1LC0yLjUyMiBsIDAsLTUyLjc5OSB6IG0gNy4zMzQsNjEuMDg2IC0xMS4yNSwxMS4yNSBjIC0xLjcwNSwxLjcwNSAtNC4wMTgsMi42NjMgLTYuNDI4LDIuNjYzIGwgLTU2LjUyMywwIGMgLTIuNDEyLDAgLTQuNzI1LC0wLjk1OSAtNi40MywtMi42NjUgTCAtMTcuNDEyLDI3LjQ5NCBjIC0xLjcwNCwtMS43MDUgLTIuNjYxLC00LjAxNiAtMi42NjEsLTYuNDI3IGwgMCwtNTYuNTE1IGMgMCwtMi40MTEgMC45NTgsLTQuNzI1IDIuNjYzLC02LjQyOCBsIDExLjI1LC0xMS4yNSBjIDEuNzA1LC0xLjcwNSA0LjAxNywtMi42NjIgNi40MjgsLTIuNjYyIGwgNTYuNTE1LDAgYyAyLjQxLDAgNC43MjMsMC45NTcgNi40MjgsMi42NjIgbCAxMS4yNSwxMS4yNSBjIDEuNzA1LDEuNzAzIDIuNjYzLDQuMDE3IDIuNjYzLDYuNDI4IGwgMCw1Ni41MTQgYyAwLDIuNDEyIC0wLjk1OCw0LjcyNCAtMi42NjMsNi40MjkiIC8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==';\nlet _ = null;\nexport default function RobotRenderer(eventBus, bpmnRenderer) {\n    BaseRenderer.call(_, eventBus, 1500);\n    _.canRender = function (element) {\n        return is(element, 'bpmn:ServiceTask') && element.id.match(/robot/i);\n    };\n    _.drawShape = function (parent, element) {\n        bpmnRenderer.handlers['bpmn:Task'](parent, element);\n        const gfx = svgCreate('image', {\n            x: -1,\n            y: -1,\n            width: 32,\n            height: 32,\n            href: Robot,\n        });\n        svgAppend(parent, gfx);\n        return gfx;\n    };\n}\n_ = RobotRenderer;\ninherits(RobotRenderer, BaseRenderer);\nRobotRenderer.$inject = ['eventBus', 'bpmnRenderer'];\n","import RobotFrameworkTask from './RobotFrameworkTask';\nconst RobotModule = {\n    __init__: ['RobotFrameworkTask'],\n    RobotFrameworkTask: ['type', RobotFrameworkTask],\n};\nexport default RobotModule;\n","import { Widget } from '@lumino/widgets';\nimport BpmnViewer from 'bpmn-js/lib/NavigatedViewer';\nimport ModelingModule from 'bpmn-js/lib/features/modeling';\nimport TooltipsModule from 'diagram-js/lib/features/tooltips';\nimport RobotModule from './RobotModule';\n/**\n * The default mime type for the extension.\n */\nconst MIME_TYPE = 'application/bpmn+xml';\n/**\n * The class name added to the extension.\n */\nconst CLASS_NAME = 'mimerenderer-bpmn';\n/**\n * A widget for rendering bpmn.\n */\nexport class OutputWidget extends Widget {\n    /**\n     * Construct a new output widget.\n     */\n    constructor(options) {\n        super();\n        this._mimeType = options.mimeType;\n        this.addClass(CLASS_NAME);\n    }\n    /**\n     * Render bpmn into this widget's node.\n     */\n    async renderModel(model) {\n        try {\n            let changed = false;\n            let resized = false;\n            if (!this._bpmn) {\n                this._bpmn = new BpmnViewer({\n                    additionalModules: [RobotModule, ModelingModule, TooltipsModule],\n                });\n                changed = true;\n            }\n            if (model.data[this._mimeType] &&\n                model.data[this._mimeType] !== this._xml) {\n                this._xml = model.data[this._mimeType];\n                await this._bpmn.importXML(this._xml);\n                changed = true;\n            }\n            if (model.data['application/bpmn+json'] &&\n                model.data['application/bpmn+json'] !== this._json) {\n                this._json = model.data['application/bpmn+json'];\n                changed = true;\n            }\n            if (this._bpmn) {\n                this._bpmn.attachTo(this.node);\n            }\n            if (this._bpmn && changed) {\n                const config = JSON.parse(model.data['application/bpmn+json'] || '{}');\n                if (config.style) {\n                    for (const name of Object.keys(config.style)) {\n                        this.node.style.setProperty(name, config.style[name]);\n                        if (name === 'height' && config.style[name] !== this._height) {\n                            this._height = config.style[name];\n                            resized = true;\n                        }\n                    }\n                }\n                if (this._bpmn && config.zoom) {\n                    if (config.zoom !== this._zoom) {\n                        const registry = this._bpmn.get('elementRegistry');\n                        if (registry.get(config.zoom)) {\n                            this._bpmn.get('canvas').zoom(1.0, registry.get(config.zoom));\n                        }\n                        else {\n                            this._bpmn.get('canvas').zoom('fit-viewport', 'auto');\n                            if (config.zoom !== 'fit-viewport') {\n                                this._bpmn.get('canvas').zoom(config.zoom, 'auto');\n                            }\n                        }\n                        this._zoom = config.zoom;\n                    }\n                }\n                else if (this._bpmn && resized) {\n                    this._bpmn.get('canvas').zoom('fit-viewport', 'auto');\n                }\n                if (config.colors) {\n                    const modeling = this._bpmn.get('modeling');\n                    const registry = this._bpmn.get('elementRegistry');\n                    for (const name of Object.keys(config.colors)) {\n                        const colors = config.colors[name];\n                        const element = registry.get(name);\n                        if (element) {\n                            modeling.setColor(element, colors);\n                        }\n                    }\n                }\n                const svg = await new Promise((resolve, reject) => {\n                    this._bpmn.saveSVG((err, svg) => {\n                        if (err) {\n                            reject(err);\n                        }\n                        else {\n                            resolve(svg);\n                        }\n                    });\n                });\n                model.setData({\n                    data: Object.assign(Object.assign({}, model.data), { 'image/svg+xml': svg }),\n                    metadata: model.metadata,\n                });\n            }\n        }\n        catch (e) {\n            console.warn(e);\n        }\n        return Promise.resolve();\n    }\n}\n/**\n * A mime renderer factory for bpmn data.\n */\nexport const rendererFactory = {\n    safe: true,\n    mimeTypes: [MIME_TYPE],\n    createRenderer: (options) => new OutputWidget(options),\n};\n/**\n * Extension definition.\n */\nconst extension = {\n    id: 'jupyterlab-bpmn:plugin',\n    rendererFactory,\n    rank: 70,\n    dataType: 'string',\n    fileTypes: [\n        {\n            name: 'bpmn',\n            mimeTypes: [MIME_TYPE],\n            extensions: ['.bpmn'],\n        },\n    ],\n    documentWidgetFactoryOptions: {\n        name: 'JupyterLab BPMN viewer',\n        primaryFileType: 'bpmn',\n        fileTypes: ['bpmn'],\n        defaultFor: ['bpmn'],\n    },\n};\nexport default extension;\n"],"names":[],"sourceRoot":""}