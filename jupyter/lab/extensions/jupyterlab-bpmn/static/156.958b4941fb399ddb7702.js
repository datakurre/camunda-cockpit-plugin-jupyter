"use strict";(self.webpackChunkjupyterlab_bpmn=self.webpackChunkjupyterlab_bpmn||[]).push([[156],{264:(t,e,n)=>{n.d(e,{Z:()=>ae});var i=n(717),o=n.n(i),r=n(670),a=n(858),s=n(252);function l(t){return!(0,s.is)(t,"bpmn:CallActivity")&&((0,s.is)(t,"bpmn:SubProcess")?(0,s.S)(t).di&&!!(0,s.S)(t).di.isExpanded:!(0,s.is)(t,"bpmn:Participant")||!!(0,s.S)(t).processRef)}function c(t){var e=t.businessObject,n=function(t){return(0,s.is)(t,"bpmn:FlowElement")||(0,s.is)(t,"bpmn:Participant")||(0,s.is)(t,"bpmn:Lane")||(0,s.is)(t,"bpmn:SequenceFlow")||(0,s.is)(t,"bpmn:MessageFlow")||(0,s.is)(t,"bpmn:DataInput")||(0,s.is)(t,"bpmn:DataOutput")?"name":(0,s.is)(t,"bpmn:TextAnnotation")?"text":(0,s.is)(t,"bpmn:Group")?"categoryValueRef":void 0}(e);if(n)return"categoryValueRef"===n?function(t){var e=t.categoryValueRef;return e&&e.value||""}(e):e[n]||""}var h=n(230);function d(t,e,n){return(0,r.G)(t.eventDefinitions,(function(i){return i.$type===e&&function(t,e){return(0,r.yW)(e,(function(e,n){return t[n]==e}))}(t,n)}))}function u(t){return t.businessObject.di}function f(t){return t.businessObject}function m(t,e){var n=u(t);return n.get("color:background-color")||n.get("bioc:fill")||e||"white"}function p(t,e){var n=u(t);return n.get("color:border-color")||n.get("bioc:stroke")||e||"black"}function y(t,e,n){var i=u(t).get("label");return i&&i.get("color:color")||e||p(t,n)}var v,g=n(674),x=n(487),_=n(168),E=(function(t){var e=t.exports=function(t,n){if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";for(var i=Math.log(Math.pow(2,t))/Math.log(n),o=2;i===1/0;o*=2)i=Math.log(Math.pow(2,t/o))/Math.log(n)*o;var r=i-Math.floor(i),a="";for(o=0;o<Math.floor(i);o++)a=Math.floor(Math.random()*n).toString(n)+a;if(r){var s=Math.pow(n,r);a=Math.floor(Math.random()*s).toString(n)+a}var l=parseInt(a,n);return l!==1/0&&l>=Math.pow(2,t)?e(t,n):a};e.rack=function(t,n,i){var o=function(o){var a=0;do{if(a++>10){if(!i)throw new Error("too many ID collisions, use more bits");t+=i}var s=e(t,n)}while(Object.hasOwnProperty.call(r,s));return r[s]=o,s},r=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=n||16,o}}(v={exports:{}}),v.exports);function w(t){if(!(this instanceof w))return new w(t);t=t||[128,36,1],this._seed=t.length?E.rack(t[0],t[1],t[2]):t}w.prototype.next=function(t){return this._seed(t||!0)},w.prototype.nextPrefixed=function(t,e){var n;do{n=t+this.next(!0)}while(this.assigned(n));return this.claim(n,e),n},w.prototype.claim=function(t,e){this._seed.set(t,e||!0)},w.prototype.assigned=function(t){return this._seed.get(t)||!1},w.prototype.unclaim=function(t){delete this._seed.hats[t]},w.prototype.clear=function(){var t,e=this._seed.hats;for(t in e)this.unclaim(t)};var b=new w,k=.95;function S(t,e,n,i,o,v,E){a.Z.call(this,e,E);var w=t&&t.defaultFillColor,S=t&&t.defaultStrokeColor,T=t&&t.defaultLabelColor,M=b.next(),A={},L=n.computeStyle;function R(t,e){var n=(0,r.f0)({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},e.attrs),i=e.ref||{x:0,y:0},a=e.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var s=(0,x.Ue)("marker");(0,x.Lj)(e.element,n),(0,x.R3)(s,e.element),(0,x.Lj)(s,{id:t,viewBox:"0 0 20 20",refX:i.x,refY:i.y,markerWidth:20*a,markerHeight:20*a,orient:"auto"});var l=(0,g.IO)("defs",o._svg);l||(l=(0,x.Ue)("defs"),(0,x.R3)(o._svg,l)),(0,x.R3)(l,s),A[t]=s}function P(t){return t.replace(/[^0-9a-zA-z]+/g,"_")}function D(t,e,n){var i=t+"-"+P(e)+"-"+P(n)+"-"+M;return A[i]||function(t,e,n,i){if("sequenceflow-end"===e){var o=(0,x.Ue)("path");(0,x.Lj)(o,{d:"M 1 5 L 11 10 L 1 15 Z"}),R(t,{element:o,ref:{x:11,y:10},scale:.5,attrs:{fill:i,stroke:i}})}if("messageflow-start"===e){var r=(0,x.Ue)("circle");(0,x.Lj)(r,{cx:6,cy:6,r:3.5}),R(t,{element:r,attrs:{fill:n,stroke:i},ref:{x:6,y:6}})}if("messageflow-end"===e){var a=(0,x.Ue)("path");(0,x.Lj)(a,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),R(t,{element:a,attrs:{fill:n,stroke:i,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===e){var s=(0,x.Ue)("path");(0,x.Lj)(s,{d:"M 11 5 L 1 10 L 11 15"}),R(t,{element:s,attrs:{fill:"none",stroke:i,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===e){var l=(0,x.Ue)("path");(0,x.Lj)(l,{d:"M 1 5 L 11 10 L 1 15"}),R(t,{element:l,attrs:{fill:"none",stroke:i,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===e){var c=(0,x.Ue)("path");(0,x.Lj)(c,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),R(t,{element:c,attrs:{fill:n,stroke:i},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===e){var h=(0,x.Ue)("path");(0,x.Lj)(h,{d:"M 6 4 L 10 16"}),R(t,{element:h,attrs:{stroke:i},ref:{x:0,y:10},scale:.5})}}(i,t,e,n),"url(#"+i+")"}function O(t,e,n,i,o){(0,r.Kn)(i)&&(o=i,i=0),i=i||0,"none"===(o=L(o,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete o.fillOpacity;var a=e/2,s=n/2,l=(0,x.Ue)("circle");return(0,x.Lj)(l,{cx:a,cy:s,r:Math.round((e+n)/4-i)}),(0,x.Lj)(l,o),(0,x.R3)(t,l),l}function C(t,e,n,i,o,a){(0,r.Kn)(o)&&(a=o,o=0),o=o||0,a=L(a,{stroke:"black",strokeWidth:2,fill:"white"});var s=(0,x.Ue)("rect");return(0,x.Lj)(s,{x:o,y:o,width:e-2*o,height:n-2*o,rx:i,ry:i}),(0,x.Lj)(s,a),(0,x.R3)(t,s),s}function W(t,e,n){n=L(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var i=(0,h.W5)(e,n);return(0,x.R3)(t,i),i}function j(t,e,n){n=L(n,["no-fill"],{strokeWidth:2,stroke:"black"});var i=(0,x.Ue)("path");return(0,x.Lj)(i,{d:e}),(0,x.Lj)(i,n),(0,x.R3)(t,i),i}function B(t,e,n,i){return j(e,n,(0,r.f0)({"data-marker":t},i))}function H(t){return function(e,n){return U[t](e,n)}}function N(t){return U[t]}function I(t,e){var n=f(t),i=function(t){return"bpmn:IntermediateThrowEvent"===t.$type||"bpmn:EndEvent"===t.$type}(n);return n.eventDefinitions&&n.eventDefinitions.length>1?n.parallelMultiple?N("bpmn:ParallelMultipleEventDefinition")(e,t,i):N("bpmn:MultipleEventDefinition")(e,t,i):d(n,"bpmn:MessageEventDefinition")?N("bpmn:MessageEventDefinition")(e,t,i):d(n,"bpmn:TimerEventDefinition")?N("bpmn:TimerEventDefinition")(e,t,i):d(n,"bpmn:ConditionalEventDefinition")?N("bpmn:ConditionalEventDefinition")(e,t):d(n,"bpmn:SignalEventDefinition")?N("bpmn:SignalEventDefinition")(e,t,i):d(n,"bpmn:EscalationEventDefinition")?N("bpmn:EscalationEventDefinition")(e,t,i):d(n,"bpmn:LinkEventDefinition")?N("bpmn:LinkEventDefinition")(e,t,i):d(n,"bpmn:ErrorEventDefinition")?N("bpmn:ErrorEventDefinition")(e,t,i):d(n,"bpmn:CancelEventDefinition")?N("bpmn:CancelEventDefinition")(e,t,i):d(n,"bpmn:CompensateEventDefinition")?N("bpmn:CompensateEventDefinition")(e,t,i):d(n,"bpmn:TerminateEventDefinition")?N("bpmn:TerminateEventDefinition")(e,t,i):null}function F(t,e,n){n=(0,r.f0)({size:{width:100}},n);var i=v.createText(e||"",n);return(0,x.Sh)(i).add("djs-label"),(0,x.R3)(t,i),i}function z(t,e,n){return F(t,f(e).name,{box:e,align:n,padding:5,style:{fill:y(e,T,S)}})}function K(t,e,n){var i=F(t,e,{box:{height:30,width:n.height},align:"center-middle",style:{fill:y(n,T,S)}}),o=-1*n.height;(0,_.vs)(i,0,-o,270)}function V(t){for(var e=t.waypoints,n="m  "+e[0].x+","+e[0].y,i=1;i<e.length;i++)n+="L"+e[i].x+","+e[i].y+" ";return n}var U=this.handlers={"bpmn:Event":function(t,e,n){return"fillOpacity"in n||(n.fillOpacity=k),O(t,e.width,e.height,n)},"bpmn:StartEvent":function(t,e){var n={fill:m(e,w),stroke:p(e,S)};f(e).isInterrupting||(n={strokeDasharray:"6",strokeLinecap:"round",fill:m(e,w),stroke:p(e,S)});var i=N("bpmn:Event")(t,e,n);return I(e,t),i},"bpmn:MessageEventDefinition":function(t,e,n){return j(t,i.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:e.width,containerHeight:e.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:n?p(e,S):m(e,w),stroke:n?m(e,w):p(e,S)})},"bpmn:TimerEventDefinition":function(t,e){var n=O(t,e.width,e.height,.2*e.height,{strokeWidth:2,fill:m(e,w),stroke:p(e,S)});j(t,i.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:e.width,containerHeight:e.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:p(e,S)});for(var o=0;o<12;o++){var r=i.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:e.width,containerHeight:e.height,position:{mx:.5,my:.5}}),a=e.width/2;j(t,r,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*o+","+e.height/2+","+a+")",stroke:p(e,S)})}return n},"bpmn:EscalationEventDefinition":function(t,e,n){return j(t,i.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?p(e,S):"none",stroke:p(e,S)})},"bpmn:ConditionalEventDefinition":function(t,e){return j(t,i.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:p(e,S)})},"bpmn:LinkEventDefinition":function(t,e,n){return j(t,i.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:n?p(e,S):"none",stroke:p(e,S)})},"bpmn:ErrorEventDefinition":function(t,e,n){return j(t,i.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:e.width,containerHeight:e.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:n?p(e,S):"none",stroke:p(e,S)})},"bpmn:CancelEventDefinition":function(t,e,n){var o=j(t,i.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:n?p(e,S):"none",stroke:p(e,S)});return(0,_.U1)(o,45),o},"bpmn:CompensateEventDefinition":function(t,e,n){return j(t,i.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:n?p(e,S):"none",stroke:p(e,S)})},"bpmn:SignalEventDefinition":function(t,e,n){return j(t,i.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:e.width,containerHeight:e.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?p(e,S):"none",stroke:p(e,S)})},"bpmn:MultipleEventDefinition":function(t,e,n){return j(t,i.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:e.width,containerHeight:e.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:n?p(e,S):"none"})},"bpmn:ParallelMultipleEventDefinition":function(t,e){return j(t,i.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:e.width,containerHeight:e.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:p(e,S),stroke:p(e,S)})},"bpmn:EndEvent":function(t,e){var n=N("bpmn:Event")(t,e,{strokeWidth:4,fill:m(e,w),stroke:p(e,S)});return I(e,t),n},"bpmn:TerminateEventDefinition":function(t,e){return O(t,e.width,e.height,8,{strokeWidth:4,fill:p(e,S),stroke:p(e,S)})},"bpmn:IntermediateEvent":function(t,e){var n=N("bpmn:Event")(t,e,{strokeWidth:1,fill:m(e,w),stroke:p(e,S)});return O(t,e.width,e.height,3,{strokeWidth:1,fill:m(e,"none"),stroke:p(e,S)}),I(e,t),n},"bpmn:IntermediateCatchEvent":H("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":H("bpmn:IntermediateEvent"),"bpmn:Activity":function(t,e,n){return"fillOpacity"in(n=n||{})||(n.fillOpacity=k),C(t,e.width,e.height,10,n)},"bpmn:Task":function(t,e){var n={fill:m(e,w),stroke:p(e,S)},i=N("bpmn:Activity")(t,e,n);return z(t,e,"center-middle"),Y(t,e),i},"bpmn:ServiceTask":function(t,e){var n=N("bpmn:Task")(t,e);return j(t,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:m(e,w),stroke:p(e,S)}),j(t,i.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:m(e,w)}),j(t,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:m(e,w),stroke:p(e,S)}),n},"bpmn:UserTask":function(t,e){var n=N("bpmn:Task")(t,e);return j(t,i.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:m(e,w),stroke:p(e,S)}),j(t,i.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:m(e,w),stroke:p(e,S)}),j(t,i.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:p(e,S),stroke:p(e,S)}),n},"bpmn:ManualTask":function(t,e){var n=N("bpmn:Task")(t,e);return j(t,i.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:m(e,w),stroke:p(e,S)}),n},"bpmn:SendTask":function(t,e){var n=N("bpmn:Task")(t,e);return j(t,i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:p(e,S),stroke:m(e,w)}),n},"bpmn:ReceiveTask":function(t,e){var n,o=f(e),r=N("bpmn:Task")(t,e);return o.instantiate?(O(t,28,28,4.4,{strokeWidth:1}),n=i.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):n=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),j(t,n,{strokeWidth:1,fill:m(e,w),stroke:p(e,S)}),r},"bpmn:ScriptTask":function(t,e){var n=N("bpmn:Task")(t,e);return j(t,i.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:p(e,S)}),n},"bpmn:BusinessRuleTask":function(t,e){var n=N("bpmn:Task")(t,e),o=j(t,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}));(0,x.Lj)(o,{strokeWidth:1,fill:m(e,"#aaaaaa"),stroke:p(e,S)});var r=j(t,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}));return(0,x.Lj)(r,{strokeWidth:1,stroke:p(e,S)}),n},"bpmn:SubProcess":function(t,e,n){n=(0,r.f0)({fill:m(e,w),stroke:p(e,S)},n);var i=N("bpmn:Activity")(t,e,n),o=l(e);return function(t){return t&&!!(0,s.S)(t).triggeredByEvent}(e)&&(0,x.Lj)(i,{strokeDasharray:"1,2"}),z(t,e,o?"center-top":"center-middle"),o?Y(t,e):Y(t,e,["SubProcessMarker"]),i},"bpmn:AdHocSubProcess":function(t,e){return N("bpmn:SubProcess")(t,e)},"bpmn:Transaction":function(t,e){var i=N("bpmn:SubProcess")(t,e),o=n.style(["no-fill","no-events"],{stroke:p(e,S)});return C(t,e.width,e.height,8,3,o),i},"bpmn:CallActivity":function(t,e){return N("bpmn:SubProcess")(t,e,{strokeWidth:5})},"bpmn:Participant":function(t,e){var n={fillOpacity:k,fill:m(e,w),stroke:p(e,S)},i=N("bpmn:Lane")(t,e,n);return l(e)?(W(t,[{x:30,y:0},{x:30,y:e.height}],{stroke:p(e,S)}),K(t,f(e).name,e)):F(t,f(e).name,{box:e,align:"center-middle",style:{fill:y(e,T,S)}}),!!f(e).participantMultiplicity&&N("ParticipantMultiplicityMarker")(t,e),i},"bpmn:Lane":function(t,e,n){var i=C(t,e.width,e.height,0,(0,r.f0)({fill:m(e,w),fillOpacity:.35,stroke:p(e,S)},n)),o=f(e);return"bpmn:Lane"===o.$type&&K(t,o.name,e),i},"bpmn:InclusiveGateway":function(t,e){var n=N("bpmn:Gateway")(t,e);return O(t,e.width,e.height,.24*e.height,{strokeWidth:2.5,fill:m(e,w),stroke:p(e,S)}),n},"bpmn:ExclusiveGateway":function(t,e){var n=N("bpmn:Gateway")(t,e),o=i.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:e.width,containerHeight:e.height,position:{mx:.32,my:.3}});return u(e).isMarkerVisible&&j(t,o,{strokeWidth:1,fill:p(e,S),stroke:p(e,S)}),n},"bpmn:ComplexGateway":function(t,e){var n=N("bpmn:Gateway")(t,e);return j(t,i.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:e.width,containerHeight:e.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:p(e,S),stroke:p(e,S)}),n},"bpmn:ParallelGateway":function(t,e){var n=N("bpmn:Gateway")(t,e);return j(t,i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:e.width,containerHeight:e.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:p(e,S),stroke:p(e,S)}),n},"bpmn:EventBasedGateway":function(t,e){var n=f(e),o=N("bpmn:Gateway")(t,e);O(t,e.width,e.height,.2*e.height,{strokeWidth:1,fill:"none",stroke:p(e,S)});var r=n.eventGatewayType,a=!!n.instantiate;if("Parallel"===r){var s=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:e.width,containerHeight:e.height,position:{mx:.474,my:.296}}),l=j(t,s);(0,x.Lj)(l,{strokeWidth:1,fill:"none"})}else if("Exclusive"===r){if(!a){var c=O(t,e.width,e.height,.26*e.height);(0,x.Lj)(c,{strokeWidth:1,fill:"none",stroke:p(e,S)})}!function(){var n=i.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:e.width,containerHeight:e.height,position:{mx:.36,my:.44}}),o={strokeWidth:2,fill:m(e,"none"),stroke:p(e,S)};j(t,n,o)}()}return o},"bpmn:Gateway":function(t,e){var n={fill:m(e,w),fillOpacity:k,stroke:p(e,S)};return function(t,e,n,i){var o=e/2,r=n/2,a=[{x:o,y:0},{x:e,y:r},{x:o,y:n},{x:0,y:r}].map((function(t){return t.x+","+t.y})).join(" ");i=L(i,{stroke:"black",strokeWidth:2,fill:"white"});var s=(0,x.Ue)("polygon");return(0,x.Lj)(s,{points:a}),(0,x.Lj)(s,i),(0,x.R3)(t,s),s}(t,e.width,e.height,n)},"bpmn:SequenceFlow":function(t,e){var n,i=V(e),o=m(e,w),r=p(e,S),a=j(t,i,{strokeLinejoin:"round",markerEnd:D("sequenceflow-end",o,r),stroke:p(e,S)}),s=f(e);return e.source&&(n=e.source.businessObject,s.conditionExpression&&n.$instanceOf("bpmn:Activity")&&(0,x.Lj)(a,{markerStart:D("conditional-flow-marker",o,r)}),n.default&&(n.$instanceOf("bpmn:Gateway")||n.$instanceOf("bpmn:Activity"))&&n.default===s&&(0,x.Lj)(a,{markerStart:D("conditional-default-flow-marker",o,r)})),a},"bpmn:Association":function(t,e,n){var i=f(e),o=m(e,w),a=p(e,S);return n=(0,r.f0)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:p(e,S)},n||{}),"One"!==i.associationDirection&&"Both"!==i.associationDirection||(n.markerEnd=D("association-end",o,a)),"Both"===i.associationDirection&&(n.markerStart=D("association-start",o,a)),W(t,e.waypoints,n)},"bpmn:DataInputAssociation":function(t,e){var n=m(e,w),i=p(e,S);return N("bpmn:Association")(t,e,{markerEnd:D("association-end",n,i)})},"bpmn:DataOutputAssociation":function(t,e){var n=m(e,w),i=p(e,S);return N("bpmn:Association")(t,e,{markerEnd:D("association-end",n,i)})},"bpmn:MessageFlow":function(t,e){var n=f(e),o=u(e),r=m(e,w),a=p(e,S),s=j(t,V(e),{markerEnd:D("messageflow-end",r,a),markerStart:D("messageflow-start",r,a),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:p(e,S)});if(n.messageRef){var l=s.getPointAtLength(s.getTotalLength()/2),c=i.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:l.x,y:l.y}}),h={strokeWidth:1};"initiating"===o.messageVisibleKind?(h.fill="white",h.stroke="black"):(h.fill="#888",h.stroke="white");var d=j(t,c,h),y=F(t,n.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:p(e,T)}}),v=d.getBBox(),g=y.getBBox(),x=l.x-g.width/2,E=l.y+v.height/2+10;(0,_.vs)(y,x,E,0)}return s},"bpmn:DataObject":function(t,e){var n=j(t,i.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:.474,my:.296}}),{fill:m(e,w),fillOpacity:k,stroke:p(e,S)});return function(t){var e=t.dataObjectRef;return t.isCollection||e&&e.isCollection}(f(e))&&function(t,e){var n=(e.height-18)/e.height;j(t,i.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:.33,my:n}}),{strokeWidth:2})}(t,e),n},"bpmn:DataObjectReference":H("bpmn:DataObject"),"bpmn:DataInput":function(t,e){var n=i.getRawPath("DATA_ARROW"),o=N("bpmn:DataObject")(t,e);return j(t,n,{strokeWidth:1}),o},"bpmn:DataOutput":function(t,e){var n=i.getRawPath("DATA_ARROW"),o=N("bpmn:DataObject")(t,e);return j(t,n,{strokeWidth:1,fill:"black"}),o},"bpmn:DataStoreReference":function(t,e){return j(t,i.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:m(e,w),fillOpacity:k,stroke:p(e,S)})},"bpmn:BoundaryEvent":function(t,e){var n=f(e).cancelActivity,i={strokeWidth:1,fill:m(e,w),stroke:p(e,S)};n||(i.strokeDasharray="6",i.strokeLinecap="round");var o=(0,r.f0)({},i,{fillOpacity:1}),a=(0,r.f0)({},i,{fill:"none"}),s=N("bpmn:Event")(t,e,o);return O(t,e.width,e.height,3,a),I(e,t),s},"bpmn:Group":function(t,e){return C(t,e.width,e.height,10,{stroke:p(e,S),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(t,e){return function(t,e){var n={width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y};return F(t,c(e),{box:n,fitBox:!0,style:(0,r.f0)({},v.getExternalStyle(),{fill:y(e,T,S)})})}(t,e)},"bpmn:TextAnnotation":function(t,e){var n=C(t,e.width,e.height,0,0,{fill:"none",stroke:"none"});return j(t,i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:0,my:0}}),{stroke:p(e,S)}),F(t,f(e).text||"",{box:e,align:"left-top",padding:5,style:{fill:y(e,T,S)}}),n},ParticipantMultiplicityMarker:function(t,e){B("participant-multiplicity",t,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:e.width/2/e.width,my:(e.height-15)/e.height}}),{strokeWidth:2,fill:m(e,w),stroke:p(e,S)})},SubProcessMarker:function(t,e){var n=C(t,14,14,0,{strokeWidth:1,fill:m(e,w),stroke:p(e,S)});(0,_.Iu)(n,e.width/2-7.5,e.height-20),B("sub-process",t,i.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:e.width,containerHeight:e.height,position:{mx:(e.width/2-7.5)/e.width,my:(e.height-20)/e.height}}),{fill:m(e,w),stroke:p(e,S)})},ParallelMarker:function(t,e,n){B("parallel",t,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:(e.width/2+n.parallel)/e.width,my:(e.height-20)/e.height}}),{fill:m(e,w),stroke:p(e,S)})},SequentialMarker:function(t,e,n){B("sequential",t,i.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:(e.width/2+n.seq)/e.width,my:(e.height-19)/e.height}}),{fill:m(e,w),stroke:p(e,S)})},CompensationMarker:function(t,e,n){B("compensation",t,i.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:(e.width/2+n.compensation)/e.width,my:(e.height-13)/e.height}}),{strokeWidth:1,fill:m(e,w),stroke:p(e,S)})},LoopMarker:function(t,e,n){B("loop",t,i.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:(e.width/2+n.loop)/e.width,my:(e.height-7)/e.height}}),{strokeWidth:1,fill:m(e,w),stroke:p(e,S),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(t,e,n){B("adhoc",t,i.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:e.width,containerHeight:e.height,position:{mx:(e.width/2+n.adhoc)/e.width,my:(e.height-15)/e.height}}),{strokeWidth:1,fill:p(e,S),stroke:p(e,S)})}};function Y(t,e,n){var i,o=f(e),a=n&&-1!==n.indexOf("SubProcessMarker");i=a?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},(0,r.Ed)(n,(function(n){N(n)(t,e,i)})),o.isForCompensation&&N("CompensationMarker")(t,e,i),"bpmn:AdHocSubProcess"===o.$type&&N("AdhocMarker")(t,e,i);var s=o.loopCharacteristics,l=s&&s.isSequential;s&&(void 0===l&&N("LoopMarker")(t,e,i),!1===l&&N("ParallelMarker")(t,e,i),!0===l&&N("SequentialMarker")(t,e,i))}this._drawPath=j}o()(S,a.Z),S.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],S.prototype.canRender=function(t){return(0,s.is)(t,"bpmn:BaseElement")},S.prototype.drawShape=function(t,e){var n=e.type;return(0,this.handlers[n])(t,e)},S.prototype.drawConnection=function(t,e){var n=e.type;return(0,this.handlers[n])(t,e)},S.prototype.getShapePath=function(t){return(0,s.is)(t,"bpmn:Event")?(i=[["M",(e=t).x+e.width/2,e.y+e.height/2],["m",0,-(n=e.width/2)],["a",n,n,0,1,1,0,2*n],["a",n,n,0,1,1,0,-2*n],["z"]],(0,h.KO)(i)):(0,s.is)(t,"bpmn:Activity")?function(t,e){var n=t.x,i=t.y,o=t.width,r=t.height,a=[["M",n+e,i],["l",o-20,0],["a",e,e,0,0,1,e,e],["l",0,r-20],["a",e,e,0,0,1,-10,e],["l",20-o,0],["a",e,e,0,0,1,-10,-10],["l",0,20-r],["a",e,e,0,0,1,e,-10],["z"]];return(0,h.KO)(a)}(t,10):(0,s.is)(t,"bpmn:Gateway")?function(t){var e=t.width/2,n=t.height/2,i=[["M",t.x+e,t.y],["l",e,n],["l",-e,n],["l",-e,-n],["z"]];return(0,h.KO)(i)}(t):function(t){var e=t.x,n=t.y,i=t.width,o=[["M",e,n],["l",i,0],["l",0,t.height],["l",-i,0],["z"]];return(0,h.KO)(o)}(t);var e,n,i};var T={width:150,height:50};function M(t,e){var n;e.textContent=t;try{var i,o=""===t;return e.textContent=o?"dummy":t,i={width:(n=e.getBBox()).width+2*n.x,height:n.height},o&&(i.width=0),i}catch(t){return{width:0,height:0}}}function A(t,e,n){for(var i,o=t.shift(),r=o;;){if((i=M(r,n)).width=r?i.width:0," "===r||""===r||i.width<Math.round(e)||r.length<2)return L(t,r,o,i);r=R(r,i.width,e)}}function L(t,e,n,i){if(e.length<n.length){var o=n.slice(e.length).trim();t.unshift(o)}return{width:i.width,height:i.height,text:e}}function R(t,e,n){var i=Math.max(t.length*(n/e),1),o=function(t,e){var n,i=t.split(/(\s|-|\u00AD)/g),o=[],r=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+r<e)){"-"!==n&&"­"!==n||o.pop();break}o.push(n),r+=n.length}var a=o[o.length-1];return a&&"­"===a&&(o[o.length-1]="-"),o.join("")}(t,i);return o||(o=t.slice(0,Math.max(Math.round(i-1),1))),o}function P(t){this._config=(0,r.f0)({},{size:T,padding:0,style:{},align:"center-top"},t||{})}function D(t){var e=(0,r.f0)({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},t&&t.defaultStyle||{}),n=parseInt(e.fontSize,10)-1,i=(0,r.f0)({},e,{fontSize:n},t&&t.externalStyle||{}),o=new P({style:e});this.getExternalLabelBounds=function(t,e){var n=o.getDimensions(e,{box:{width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y},style:i});return{x:Math.round(t.x+t.width/2-n.width/2),y:Math.round(t.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.getTextAnnotationBounds=function(t,n){var i=o.getDimensions(n,{box:t,style:e,align:"left-top",padding:5});return{x:t.x,y:t.y,width:t.width,height:Math.max(30,Math.round(i.height))}},this.createText=function(t,e){return o.createText(t,e||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return i}}P.prototype.createText=function(t,e){return this.layoutText(t,e).element},P.prototype.getDimensions=function(t,e){return this.layoutText(t,e).dimensions},P.prototype.layoutText=function(t,e){var n=(0,r.f0)({},this._config.size,e.box),i=(0,r.f0)({},this._config.style,e.style),o=function(t){var e=t.split("-");return{horizontal:e[0]||"center",vertical:e[1]||"top"}}(e.align||this._config.align),a=function(t){return(0,r.Kn)(t)?(0,r.f0)({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}(void 0!==e.padding?e.padding:this._config.padding),s=e.fitBox||!1,l=function(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}(i),c=t.split(/\u00AD?\r?\n/),h=[],d=n.width-a.left-a.right,u=(0,x.Ue)("text");(0,x.Lj)(u,{x:0,y:0}),(0,x.Lj)(u,i);var f=function(){var t=document.getElementById("helper-svg");return t||(t=(0,x.Ue)("svg"),(0,x.Lj)(t,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(t)),t}();for((0,x.R3)(f,u);c.length;)h.push(A(c,d,u));"middle"===o.vertical&&(a.top=a.bottom=0);var m=(0,r.u4)(h,(function(t,e,n){return t+(l||e.height)}),0)+a.top+a.bottom,p=(0,r.u4)(h,(function(t,e,n){return e.width>t?e.width:t}),0),y=a.top;"middle"===o.vertical&&(y+=(n.height-m)/2),y-=(l||h[0].height)/4;var v=(0,x.Ue)("text");return(0,x.Lj)(v,i),(0,r.Ed)(h,(function(t){var e;switch(y+=l||t.height,o.horizontal){case"left":e=a.left;break;case"right":e=(s?p:d)-a.right-t.width;break;default:e=Math.max(((s?p:d)-t.width)/2+a.left,0)}var n=(0,x.Ue)("tspan");(0,x.Lj)(n,{x:e,y}),n.textContent=t.text,(0,x.R3)(v,n)})),(0,x.Od)(u),{dimensions:{width:p,height:m},element:v}},D.$inject=["config.textRenderer"];var O=/\{([^}]+)\}/g,C=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const W={__init__:["bpmnRenderer"],bpmnRenderer:["type",S],textRenderer:["type",D],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,e){var n,i,o=this.pathMap[t];e.abspos?(n=e.abspos.x,i=e.abspos.y):(n=e.containerWidth*e.position.mx,i=e.containerHeight*e.position.my);var r,a,s={};if(e.position){for(var l=e.containerHeight/o.height*e.yScaleFactor,c=e.containerWidth/o.width*e.xScaleFactor,h=0;h<o.heightElements.length;h++)s["y"+h]=o.heightElements[h]*l;for(var d=0;d<o.widthElements.length;d++)s["x"+d]=o.widthElements[d]*c}return r=o.d,a={mx:n,my:i,e:s},String(r).replace(O,(function(t,e){return function(t,e,n){var i=n;return e.replace(C,(function(t,e,n,o,r){e=e||o,i&&(e in i&&(i=i[e]),"function"==typeof i&&r&&(i=i()))})),i=(null==i||i==n?t:i)+""}(t,e,a)}))}}]},j={translate:["value",function(t,e){return e=e||{},t.replace(/{([^}]+)}/g,(function(t,n){return e[n]||"{"+n+"}"}))}]};var B={width:90,height:20};function H(t,e){var n,i,o,a=t.di.label;return a&&a.bounds?(o=a.bounds,i={width:Math.max(B.width,o.width),height:o.height},n={x:o.x+o.width/2,y:o.y+o.height/2}):(n=function(t){return t.waypoints?function(t){var e=t.length/2-1,n=t[Math.floor(e)],i=t[Math.ceil(e+.01)],o=function(t){var e=t.length/2-1,n=t[Math.floor(e)],i=t[Math.ceil(e+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}(t),r=Math.atan((i.y-n.y)/(i.x-n.x)),a=o.x,s=o.y;return Math.abs(r)<Math.PI/2?s-=15:a+=15,{x:a,y:s}}(t.waypoints):(0,s.is)(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+B.height/2}:{x:t.x+t.width/2,y:t.y+t.height+B.height/2}}(e),i=B),(0,r.f0)({x:n.x-i.width/2,y:n.y-i.height/2},i)}var N=n(935);function I(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}function F(t,e){return(0,r.f0)({id:t.id,type:t.$type,businessObject:t},e)}function z(t,e,n){var i=t.di.waypoint;return!i||i.length<2?[(0,N.wS)(e),(0,N.wS)(n)]:i.map((function(t){return{x:t.x,y:t.y}}))}function K(t,e,n,i){return new Error(t("element {element} referenced by {referenced}#{property} not yet drawn",{element:I(n),referenced:I(e),property:i}))}function V(t,e,n,i,o,r){this._eventBus=t,this._canvas=e,this._elementFactory=n,this._elementRegistry=i,this._translate=o,this._textRenderer=r}V.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],V.prototype.add=function(t,e){var n,i,o,r,a,h,d,u=t.di,f=this._translate;if((0,s.is)(u,"bpmndi:BPMNPlane"))n=this._elementFactory.createRoot(F(t)),this._canvas.setRootElement(n);else if((0,s.is)(u,"bpmndi:BPMNShape")){var m=!l(t),p=function(t){return(0,s.is)(t,"bpmn:Group")}(t);i=e&&(e.hidden||e.collapsed);var y=t.di.bounds;n=this._elementFactory.createShape(F(t,{collapsed:m,hidden:i,x:Math.round(y.x),y:Math.round(y.y),width:Math.round(y.width),height:Math.round(y.height),isFrame:p})),(0,s.is)(t,"bpmn:BoundaryEvent")&&this._attachBoundary(t,n),(0,s.is)(t,"bpmn:Lane")&&(o=0),(0,s.is)(t,"bpmn:DataStoreReference")&&(r=e,h=(a=(0,N.wS)(y)).x,d=a.y,h>=r.x&&h<=r.x+r.width&&d>=r.y&&d<=r.y+r.height||(e=this._canvas.getRootElement())),this._canvas.addShape(n,e,o)}else{if(!(0,s.is)(u,"bpmndi:BPMNEdge"))throw new Error(f("unknown di {di} for element {semantic}",{di:I(u),semantic:I(t)}));var v=this._getSource(t),g=this._getTarget(t);i=e&&(e.hidden||e.collapsed),n=this._elementFactory.createConnection(F(t,{hidden:i,source:v,target:g,waypoints:z(t,v,g)})),(0,s.is)(t,"bpmn:DataAssociation")&&(e=null),(0,s.is)(t,"bpmn:SequenceFlow")&&(o=0),this._canvas.addConnection(n,e,o)}return function(t){return(0,s.is)(t,"bpmn:Event")||(0,s.is)(t,"bpmn:Gateway")||(0,s.is)(t,"bpmn:DataStoreReference")||(0,s.is)(t,"bpmn:DataObjectReference")||(0,s.is)(t,"bpmn:DataInput")||(0,s.is)(t,"bpmn:DataOutput")||(0,s.is)(t,"bpmn:SequenceFlow")||(0,s.is)(t,"bpmn:MessageFlow")||(0,s.is)(t,"bpmn:Group")}(t)&&c(n)&&this.addLabel(t,n),this._eventBus.fire("bpmnElement.added",{element:n}),n},V.prototype._attachBoundary=function(t,e){var n=this._translate,i=t.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:I(t)}));var o=this._elementRegistry.get(i.id),r=o&&o.attachers;if(!o)throw K(n,t,i,"attachedToRef");e.host=o,r||(o.attachers=r=[]),-1===r.indexOf(e)&&r.push(e)},V.prototype.addLabel=function(t,e){var n,i,o;return n=H(t,e),(i=c(e))&&(n=this._textRenderer.getExternalLabelBounds(n,i)),o=this._elementFactory.createLabel(F(t,{id:t.id+"_label",labelTarget:e,type:"label",hidden:e.hidden||!c(e),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(o,e.parent)},V.prototype._getEnd=function(t,e){var n,i,o=t.$type,r=this._translate;if(i=t[e+"Ref"],"source"===e&&"bpmn:DataInputAssociation"===o&&(i=i&&i[0]),("source"===e&&"bpmn:DataOutputAssociation"===o||"target"===e&&"bpmn:DataInputAssociation"===o)&&(i=t.$parent),n=i&&this._getElement(i))return n;throw i?K(r,t,i,e+"Ref"):new Error(r("{semantic}#{side} Ref not specified",{semantic:I(t),side:e}))},V.prototype._getSource=function(t){return this._getEnd(t,"source")},V.prototype._getTarget=function(t){return this._getEnd(t,"target")},V.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};const U={__depends__:[W,{__depends__:[j],bpmnImporter:["type",V]}]};function Y(t){return t.originalEvent||t.srcEvent}function G(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function $(t,e){return(Y(t)||t).button===e}function q(t){return $(t,0)}function Z(t){return!0}function X(t){return q(t)||function(t){return $(t,1)}(t)}function J(t,e,n){var i=this;function o(n,i,o){var r,a;(function(t,e){return!(c[t]||q)(e)})(n,i)||(o?a=e.getGraphics(o):(r=i.delegateTarget||i.target)&&(a=r,o=e.get(a)),a&&o&&!1===t.fire(n,{element:o,gfx:a,originalEvent:i})&&(i.stopPropagation(),i.preventDefault()))}var a={};function s(t){return a[t]}var l={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":Z,"element.mousedown":X,"element.mouseup":X,"element.click":X,"element.dblclick":X};function d(t,e,n,i){var r=a[n]=function(t){o(n,t)};i&&(c[n]=i),r.$delegate=g.cl.bind(t,"svg, .djs-element",e,r)}function u(t,e,n){var i=s(n);i&&g.cl.unbind(t,e,i.$delegate)}t.on("canvas.destroy",(function(t){var e;e=t.svg,(0,r.Ed)(l,(function(t,n){u(e,n,t)}))})),t.on("canvas.init",(function(t){var e;e=t.svg,(0,r.Ed)(l,(function(t,n){d(e,n,t)}))})),t.on(["shape.added","connection.added"],(function(e){var n=e.element,i=e.gfx;t.fire("interactionEvents.createHit",{element:n,gfx:i})})),t.on(["shape.changed","connection.changed"],500,(function(e){var n=e.element,i=e.gfx;t.fire("interactionEvents.updateHit",{element:n,gfx:i})})),t.on("interactionEvents.createHit",500,(function(t){var e=t.element,n=t.gfx;i.createDefaultHit(e,n)})),t.on("interactionEvents.updateHit",(function(t){var e=t.element,n=t.gfx;i.updateDefaultHit(e,n)}));var f=y("djs-hit djs-hit-stroke"),m=y("djs-hit djs-hit-click-stroke"),p={all:y("djs-hit djs-hit-all"),"click-stroke":m,stroke:f};function y(t,e){return e=(0,r.f0)({stroke:"white",strokeWidth:15},e||{}),n.cls(t,["no-fill","no-border"],e)}function v(t,e){var n=p[e];if(!n)throw new Error("invalid hit type <"+e+">");return(0,x.Lj)(t,n),t}function _(t,e){(0,x.R3)(t,e)}this.removeHits=function(t){var e=(0,g.Kt)(".djs-hit",t);(0,r.Ed)(e,x.Od)},this.createDefaultHit=function(t,e){var n,i=t.waypoints,o=t.isFrame;return i?this.createWaypointsHit(e,i):(n=o?"stroke":"all",this.createBoxHit(e,n,{width:t.width,height:t.height}))},this.createWaypointsHit=function(t,e){var n=(0,h.W5)(e);return v(n,"stroke"),_(t,n),n},this.createBoxHit=function(t,e,n){n=(0,r.f0)({x:0,y:0},n);var i=(0,x.Ue)("rect");return v(i,e),(0,x.Lj)(i,n),_(t,i),i},this.updateDefaultHit=function(t,e){var n=(0,g.IO)(".djs-hit",e);if(n)return t.waypoints?(0,h.cq)(n,t.waypoints):(0,x.Lj)(n,{width:t.width,height:t.height}),n},this.fire=o,this.triggerMouseEvent=function(t,e,n){var i=l[t];if(!i)throw new Error("unmapped DOM event name <"+t+">");return o(i,e,n)},this.mouseHandler=s,this.registerEvent=d,this.unregisterEvent=u}J.$inject=["eventBus","elementRegistry","styles"];const Q={__init__:["interactionEvents"],interactionEvents:["type",J]};var tt=n(490);function et(t,e,n){this.offset=6;var i=e.cls("djs-outline",["no-fill"]),o=this;function a(t,e){var n=(0,x.Ue)("rect");return(0,x.Lj)(n,(0,r.f0)({x:10,y:10,width:100,height:100},i)),(0,x.R3)(t,n),n}t.on(["shape.added","shape.changed"],500,(function(t){var e=t.element,n=t.gfx,i=(0,g.IO)(".djs-outline",n);i||(i=a(n)),o.updateShapeOutline(i,e)})),t.on(["connection.added","connection.changed"],(function(t){var e=t.element,n=t.gfx,i=(0,g.IO)(".djs-outline",n);i||(i=a(n)),o.updateConnectionOutline(i,e)}))}et.prototype.updateShapeOutline=function(t,e){(0,x.Lj)(t,{x:-this.offset,y:-this.offset,width:e.width+2*this.offset,height:e.height+2*this.offset})},et.prototype.updateConnectionOutline=function(t,e){var n=(0,tt.jY)(e);(0,x.Lj)(t,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},et.$inject=["eventBus","styles","elementRegistry"];const nt={__init__:["outline"],outline:["type",et]};function it(t){this._eventBus=t,this._selectedElements=[];var e=this;t.on(["shape.remove","connection.remove"],(function(t){var n=t.element;e.deselect(n)})),t.on(["diagram.clear"],(function(t){e.select(null)}))}it.$inject=["eventBus"],it.prototype.deselect=function(t){var e=this._selectedElements,n=e.indexOf(t);if(-1!==n){var i=e.slice();e.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:e})}},it.prototype.get=function(){return this._selectedElements},it.prototype.isSelected=function(t){return-1!==this._selectedElements.indexOf(t)},it.prototype.select=function(t,e){var n=this._selectedElements,i=n.slice();(0,r.kJ)(t)||(t=t?[t]:[]),e?(0,r.Ed)(t,(function(t){-1===n.indexOf(t)&&n.push(t)})):this._selectedElements=n=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};var ot="hover",rt="selected";function at(t,e,n,i){function o(t,n){e.addMarker(t,n)}function a(t,n){e.removeMarker(t,n)}this._multiSelectionBox=null,t.on("element.hover",(function(t){o(t.element,ot)})),t.on("element.out",(function(t){a(t.element,ot)})),t.on("selection.changed",(function(t){var e=t.oldSelection,n=t.newSelection;(0,r.Ed)(e,(function(t){-1===n.indexOf(t)&&a(t,rt)})),(0,r.Ed)(n,(function(t){-1===e.indexOf(t)&&o(t,rt)}))}))}function st(t,e,n,i){t.on("create.end",500,(function(t){var n=t.context,i=n.canExecute,o=n.elements,a=(n.hints||{}).autoSelect;if(i){if(!1===a)return;(0,r.kJ)(a)?e.select(a):e.select(o.filter(lt))}})),t.on("connect.end",500,(function(t){var n=t.context,i=n.canExecute,o=n.hover;i&&o&&e.select(o)})),t.on("shape.move.end",500,(function(t){var n=t.previousSelection||[],o=i.get(t.context.shape.id);(0,r.sE)(n,(function(t){return o.id===t.id}))||e.select(o)})),t.on("element.click",(function(t){if(q(t)){var i=t.element;i===n.getRootElement()&&(i=null);var o=e.isSelected(i),r=e.get().length>1,a=function(t){var e=Y(t)||t;return!!q(t)&&(/mac/i.test(navigator.platform)?e.metaKey:e.ctrlKey)}(t)||function(t){var e=Y(t)||t;return q(t)&&e.shiftKey}(t);if(o&&r)return a?e.deselect(i):e.select(i);o?e.deselect(i):e.select(i,a)}}))}function lt(t){return!t.hidden}at.$inject=["eventBus","canvas","selection","styles"],st.$inject=["eventBus","selection","canvas","elementRegistry"];const ct={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Q,nt],selection:["type",it],selectionVisuals:["type",at],selectionBehavior:["type",st]};var ht=new(n(237).Z)("ov");function dt(t,e,n,i){var o,a;this._eventBus=e,this._canvas=n,this._elementRegistry=i,this._ids=ht,this._overlayDefaults=(0,r.f0)({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(o=n.getContainer(),a=(0,g.H6)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),o.insertBefore(a,o.firstChild),a),this._init()}function ut(t,e,n){(0,r.f0)(t.style,{left:e+"px",top:n+"px"})}function ft(t,e){t.style.display=!1===e?"none":""}function mt(t,e){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){t.style[n+"transform"]=e}))}dt.$inject=["config.overlays","eventBus","canvas","elementRegistry"],dt.prototype.get=function(t){if((0,r.HD)(t)&&(t={id:t}),(0,r.HD)(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var e=this._getOverlayContainer(t.element,!0);return e?t.type?(0,r.hX)(e.overlays,(0,r.KQ)({type:t.type})):e.overlays.slice():[]}return t.type?(0,r.hX)(this._overlays,(0,r.KQ)({type:t.type})):t.id?this._overlays[t.id]:null},dt.prototype.add=function(t,e,n){if((0,r.Kn)(e)&&(n=e,e=null),t.id||(t=this._elementRegistry.get(t)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var i=this._ids.next();return n=(0,r.f0)({},this._overlayDefaults,n,{id:i,type:e,element:t,html:n.html}),this._addOverlay(n),i},dt.prototype.remove=function(t){var e=this.get(t)||[];(0,r.kJ)(e)||(e=[e]);var n=this;(0,r.Ed)(e,(function(t){var e=n._getOverlayContainer(t.element,!0);if(t&&((0,g.Od)(t.html),(0,g.Od)(t.htmlContainer),delete t.htmlContainer,delete t.element,delete n._overlays[t.id]),e){var i=e.overlays.indexOf(t);-1!==i&&e.overlays.splice(i,1)}}))},dt.prototype.show=function(){ft(this._overlayRoot)},dt.prototype.hide=function(){ft(this._overlayRoot,!1)},dt.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,g.ZH)(this._overlayRoot)},dt.prototype._updateOverlayContainer=function(t){var e=t.element,n=t.html,i=e.x,o=e.y;if(e.waypoints){var r=(0,tt.jY)(e);i=r.x,o=r.y}ut(n,i,o),(0,g.Lj)(t.html,"data-container-id",e.id)},dt.prototype._updateOverlay=function(t){var e,n,i=t.position,o=t.htmlContainer,r=t.element,a=i.left,s=i.top;void 0!==i.right&&(e=r.waypoints?(0,tt.jY)(r).width:r.width,a=-1*i.right+e),void 0!==i.bottom&&(n=r.waypoints?(0,tt.jY)(r).height:r.height,s=-1*i.bottom+n),ut(o,a||0,s||0)},dt.prototype._createOverlayContainer=function(t){var e=(0,g.H6)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(e);var n={html:e,element:t,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},dt.prototype._updateRoot=function(t){var e=t.scale||1,n="matrix("+[e,0,0,e,-1*t.x*e,-1*t.y*e].join(",")+")";mt(this._overlayRoot,n)},dt.prototype._getOverlayContainer=function(t,e){var n=(0,r.sE)(this._overlayContainers,(function(e){return e.element===t}));return n||e?n:this._createOverlayContainer(t)},dt.prototype._addOverlay=function(t){var e,n,i=t.id,o=t.element,a=t.html;a.get&&a.constructor.prototype.jquery&&(a=a.get(0)),(0,r.HD)(a)&&(a=(0,g.H6)(a)),n=this._getOverlayContainer(o),(e=(0,g.H6)('<div class="djs-overlay" data-overlay-id="'+i+'" style="position: absolute">')).appendChild(a),t.type&&(0,g.Sh)(e).add("djs-overlay-"+t.type),t.htmlContainer=e,n.overlays.push(t),n.html.appendChild(e),this._overlays[i]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())},dt.prototype._updateOverlayVisibilty=function(t,e){var n=t.show,i=n&&n.minZoom,o=n&&n.maxZoom,a=t.htmlContainer,s=!0;n&&(((0,r.$K)(i)&&i>e.scale||(0,r.$K)(o)&&o<e.scale)&&(s=!1),ft(a,s)),this._updateOverlayScale(t,e)},dt.prototype._updateOverlayScale=function(t,e){var n,i,o,a=t.scale,s=t.htmlContainer,l="";!0!==a&&(!1===a?(n=1,i=1):(n=a.min,i=a.max),(0,r.$K)(n)&&e.scale<n&&(o=(1/e.scale||1)*n),(0,r.$K)(i)&&e.scale>i&&(o=(1/e.scale||1)*i)),(0,r.$K)(o)&&(l="scale("+o+","+o+")"),mt(s,l)},dt.prototype._updateOverlaysVisibilty=function(t){var e=this;(0,r.Ed)(this._overlays,(function(n){e._updateOverlayVisibilty(n,t)}))},dt.prototype._init=function(){var t=this._eventBus,e=this;t.on("canvas.viewbox.changing",(function(t){e.hide()})),t.on("canvas.viewbox.changed",(function(t){var n;n=t.viewbox,e._updateRoot(n),e._updateOverlaysVisibilty(n),e.show()})),t.on(["shape.remove","connection.remove"],(function(t){var n=t.element,i=e.get({element:n});(0,r.Ed)(i,(function(t){e.remove(t.id)}));var o=e._getOverlayContainer(n);if(o){(0,g.Od)(o.html);var a=e._overlayContainers.indexOf(o);-1!==a&&e._overlayContainers.splice(a,1)}})),t.on("element.changed",500,(function(t){var n=t.element,i=e._getOverlayContainer(n,!0);i&&((0,r.Ed)(i.overlays,(function(t){e._updateOverlay(t)})),e._updateOverlayContainer(i))})),t.on("element.marker.update",(function(t){var n=e._getOverlayContainer(t.element,!0);n&&(0,g.Sh)(n.html)[t.add?"add":"remove"](t.marker)})),t.on("diagram.clear",this.clear,this)};const pt={__init__:["overlays"],overlays:["type",dt]};var yt=n(710),vt=n.n(yt),gt=n(648),xt=n.n(gt),_t=n(235),Et=new(n.n(_t)())({name:"bpmnElement",enumerable:!0},{name:"di",configurable:!0});function wt(t,e){return t.$instanceOf(e)}function bt(t,e){var n={},i=[];function o(t,e){return function(n){t(n,e)}}function a(t){n[t.id]=t}function s(n,i){try{var o=n.di&&function(n,i){if(n.gfx)throw new Error(e("already rendered {element}",{element:I(n)}));return t.element(n,i)}(n,i);return a(n),o}catch(t){l(t.message,{element:n,error:t}),console.error(e("failed to import {element}",{element:I(n)})),console.error(t)}}function l(e,n){t.error(e,n)}function c(t){var n=t.bpmnElement;n?n.di?l(e("multiple DI elements defined for {element}",{element:I(n)}),{element:n}):(Et.bind(n,"di"),n.di=t):l(e("no bpmnElement referenced in {element}",{element:I(t)}),{element:t})}function h(t){c(t)}function d(){for(;i.length;)i.shift()()}function u(t,e){k(t,e),x(t.ioSpecification,e),g(t.artifacts,e),a(t)}function f(t,e){s(t,e)}function m(t,e){s(t,e)}function p(t,e){s(t,e)}function y(t,e){s(t,e)}function v(t,e){s(t,e)}function g(t,e){(0,r.Ed)(t,(function(t){wt(t,"bpmn:Association")?i.push((function(){v(t,e)})):v(t,e)}))}function x(t,e){t&&((0,r.Ed)(t.dataInputs,o(p,e)),(0,r.Ed)(t.dataOutputs,o(y,e)))}function _(t,e){k(t,e),g(t.artifacts,e)}function E(t,e){var n=s(t,e);wt(t,"bpmn:SubProcess")&&_(t,n||e),wt(t,"bpmn:Activity")&&x(t.ioSpecification,e),i.push((function(){(0,r.Ed)(t.dataInputAssociations,o(m,e)),(0,r.Ed)(t.dataOutputAssociations,o(m,e))}))}function w(t,e){i.push((function(){var n=s(t,e);t.childLaneSet&&b(t.childLaneSet,n||e),function(t){(0,r.Ed)(t.flowNodeRef,(function(e){var n=e.get("lanes");n&&n.push(t)}))}(t)}))}function b(t,e){(0,r.Ed)(t.lanes,o(w,e))}function k(t,n){!function(t,n){(0,r.Ed)(t,(function(t){wt(t,"bpmn:SequenceFlow")?i.push((function(){!function(t,e){s(t,e)}(t,n)})):wt(t,"bpmn:BoundaryEvent")?i.unshift((function(){E(t,n)})):wt(t,"bpmn:FlowNode")?E(t,n):wt(t,"bpmn:DataObject")||(wt(t,"bpmn:DataStoreReference")||wt(t,"bpmn:DataObjectReference")?function(t,e){s(t,e)}(t,n):l(e("unrecognized flowElement {element} in context {context}",{element:I(t),context:n?I(n.businessObject):"null"}),{element:t,context:n}))}))}(t.flowElements,n),t.laneSets&&function(t,e){(0,r.Ed)(t,o(b,e))}(t.laneSets,n)}function S(t,e){var n=s(t,e),i=t.processRef;i&&u(i,n||e)}return{handleDeferred:d,handleDefinitions:function(a,s){var m=a.diagrams;if(s&&-1===m.indexOf(s))throw new Error(e("diagram not part of bpmn:Definitions"));if(!s&&m&&m.length&&(s=m[0]),!s)throw new Error(e("no diagram to display"));!function(t){var e;c(e=t.plane),(0,r.Ed)(e.planeElement,h)}(s);var p=s.plane;if(!p)throw new Error(e("no plane for {element}",{element:I(s)}));var y=p.bpmnElement;if(!y){if(!(y=function(t){return(0,r.sE)(t.rootElements,(function(t){return wt(t,"bpmn:Process")||wt(t,"bpmn:Collaboration")}))}(a)))throw new Error(e("no process or collaboration to display"));l(e("correcting missing bpmnElement on {plane} to {rootElement}",{plane:I(p),rootElement:I(y)})),p.bpmnElement=y,c(p)}var v,x=function(e,n){return t.root(e,n)}(y,p);if(wt(y,"bpmn:Process"))u(y,x);else{if(!wt(y,"bpmn:Collaboration"))throw new Error(e("unsupported bpmnElement for {plane}: {rootElement}",{plane:I(p),rootElement:I(y)}));v=y,(0,r.Ed)(v.participants,o(S)),g(v.artifacts),i.push((function(){var t;t=v.messageFlows,(0,r.Ed)(t,o(f,undefined))})),function(t,e){(0,r.hX)(t,(function(t){return!n[t.id]&&wt(t,"bpmn:Process")&&t.laneSets})).forEach(o(u,e))}(a.rootElements,x)}d()},handleSubProcess:_,registerDi:c}}function kt(t){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var e=arguments.length;if(!(e>=1&&(0,r.mf)(arguments[e-1])))return t.apply(this,arguments);var n=arguments[e-1];console.warn(new Error("Passing callbacks to "+t.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var i=Array.prototype.slice.call(arguments,0,-1);t.apply(this,i).then((function(t){var e=Object.keys(t)[0];return n(null,t[e])}),(function(t){return n(t,t.warnings)}))}}var St='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function Tt(t){return t.join(";")}var Mt,At=Tt(["color: #404040"]),Lt='<div class="bjs-powered-by-lightbox" style="'+Tt(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+Tt(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+Tt(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;'+At+'">'+St+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function Rt(t){var e,n,i;t=(0,r.f0)({},Dt,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),e=this._container,n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100; '+At+'">'+St+"</a>",i=(0,g.H6)(n),e.appendChild(i),g.B.bind(i,"click",(function(t){Mt||(Mt=(0,g.H6)(Lt),g.cl.bind(Mt,".backdrop","click",(function(t){document.body.removeChild(Mt)}))),document.body.appendChild(Mt),t.preventDefault()})),this._init(this._container,this._moddle,t)}function Pt(t,e){return t.warnings=e,t}o()(Rt,vt()),Rt.prototype.importXML=kt((function(t,e){var n=this;return new Promise((function(i,o){t=n._emit("import.parse.start",{xml:t})||t,n._moddle.fromXML(t,"bpmn:Definitions").then((function(t){var r,a,s=t.rootElement,l=t.references,c=t.warnings,h=t.elementsById;s=n._emit("import.parse.complete",(r={error:null,definitions:s,elementsById:h,references:l,warnings:c},a=n.get("eventBus").createEvent(r),Object.defineProperty(a,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:r.warnings,references:r.references,elementsById:r.elementsById}}}),a))||s,n.importDefinitions(s,e).then((function(t){var e=[].concat(c,t.warnings||[]);return n._emit("import.done",{error:null,warnings:e}),i({warnings:e})})).catch((function(t){var e=[].concat(c,t.warnings||[]);return n._emit("import.done",{error:t,warnings:e}),o(Pt(t,e))}))})).catch((function(t){return n._emit("import.parse.complete",{error:t}),t=function(t){var e=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return e&&(t.message="unparsable content <"+e[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+e[2]),t}(t),n._emit("import.done",{error:t,warnings:t.warnings}),o(t)}))}))})),Rt.prototype.importDefinitions=kt((function(t,e){var n=this;return new Promise((function(i,o){n._setDefinitions(t),n.open(e).then((function(t){var e=t.warnings;return i({warnings:e})})).catch((function(t){return o(t)}))}))})),Rt.prototype.open=kt((function(t){var e=this._definitions,n=t,i=this;return new Promise((function(o,a){if(!e){var s=new Error("no XML imported");return a(Pt(s,[]))}if("string"==typeof t&&!(n=function(t,e){return e&&(0,r.sE)(t.diagrams,(function(t){return t.id===e}))||null}(e,t))){var l=new Error("BPMNDiagram <"+t+"> not found");return a(Pt(l,[]))}try{i.clear()}catch(t){return a(Pt(t,[]))}(function(t,e,n){var i,o,r,a=[];return new Promise((function(s,l){try{return i=t.get("bpmnImporter"),o=t.get("eventBus"),r=t.get("translate"),o.fire("import.render.start",{definitions:e}),function(t,e){new bt({root:function(t){return i.add(t)},element:function(t,e){return i.add(t,e)},error:function(t,e){a.push({message:t,context:e})}},r).handleDefinitions(t,e)}(e,n),o.fire("import.render.complete",{error:void 0,warnings:a}),s({warnings:a})}catch(t){return t.warnings=a,l(t)}}))})(i,e,n).then((function(t){var e=t.warnings;return o({warnings:e})})).catch((function(t){return a(t)}))}))})),Rt.prototype.saveXML=kt((function(t){t=t||{};var e=this,n=this._definitions;return new Promise((function(i){if(!n)return i({error:new Error("no definitions loaded")});n=e._emit("saveXML.start",{definitions:n})||n,e._moddle.toXML(n,t).then((function(t){var n=t.xml;return n=e._emit("saveXML.serialized",{xml:n})||n,i({xml:n})}))})).catch((function(t){return{error:t}})).then((function(t){e._emit("saveXML.done",t);var n=t.error;return n?Promise.reject(n):t}))})),Rt.prototype.saveSVG=kt((function(t){t=t||{};var e=this;return new Promise((function(t,n){var i,o;e._emit("saveSVG.start");try{var r=e.get("canvas"),a=r.getDefaultLayer(),s=(0,g.IO)("defs",r._svg),l=(0,x.db)(a),c=s?"<defs>"+(0,x.db)(s)+"</defs>":"",h=a.getBBox();i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+c+l+"</svg>"}catch(t){o=t}return e._emit("saveSVG.done",{error:o,svg:i}),o?n(o):t({svg:i})}))})),Rt.prototype._setDefinitions=function(t){this._definitions=t},Rt.prototype.getModules=function(){return this._modules},Rt.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach((function(t){var e=t.businessObject;e&&e.di&&delete e.di})),vt().prototype.clear.call(this))},Rt.prototype.destroy=function(){vt().prototype.destroy.call(this),(0,g.Od)(this._container)},Rt.prototype.on=function(t,e,n,i){return this.get("eventBus").on(t,e,n,i)},Rt.prototype.off=function(t,e){this.get("eventBus").off(t,e)},Rt.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),"string"==typeof t&&(t=(0,g.IO)(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},Rt.prototype.getDefinitions=function(){return this._definitions},Rt.prototype.detach=function(){var t=this._container,e=t.parentNode;e&&(this._emit("detach",{}),e.removeChild(t))},Rt.prototype._init=function(t,e,n){var i=n.modules||this.getModules(),o=n.additionalModules||[],a=[].concat([{bpmnjs:["value",this],moddle:["value",e]}],i,o),s=(0,r.f0)((0,r.CE)(n,["additionalModules"]),{canvas:(0,r.f0)({},n.canvas,{container:t}),modules:a});vt().call(this,s),n&&n.container&&this.attachTo(n.container)},Rt.prototype._emit=function(t,e){return this.get("eventBus").fire(t,e)},Rt.prototype._createContainer=function(t){var e=(0,g.H6)('<div class="bjs-container"></div>');return(0,r.f0)(e.style,{width:Ot(t.width),height:Ot(t.height),position:t.position}),e},Rt.prototype._createModdle=function(t){var e=(0,r.f0)({},this._moddleExtensions,t.moddleExtensions);return new(xt())(e)},Rt.prototype._modules=[];var Dt={width:"100%",height:"100%",position:"relative"};function Ot(t){return t+((0,r.hj)(t)?"px":"")}function Ct(t){Rt.call(this,t)}function Wt(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function jt(t,e){return-1!==(t=(0,r.kJ)(t)?t:[t]).indexOf(e.key)||-1!==t.indexOf(e.keyCode)}function Bt(t){return t.shiftKey}o()(Ct,Rt),Ct.prototype._modules=[U,j,ct,pt],Ct.prototype._moddleExtensions={};var Ht="keyboard.keydown";function Nt(t,e){var n=this;this._config=t||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),e.on("diagram.init",(function(){n._fire("init")})),e.on("attach",(function(){t&&t.bindTo&&n.bind(t.bindTo)})),e.on("detach",(function(){n.unbind()}))}Nt.$inject=["config.keyboard","eventBus"],Nt.prototype._keydownHandler=function(t){this._keyHandler(t,Ht)},Nt.prototype._keyupHandler=function(t){this._keyHandler(t,"keyboard.keyup")},Nt.prototype._keyHandler=function(t,e){if(!(i=t.target)||!(0,g.wB)(i,"input, textarea")&&"true"!==i.contentEditable){var n={keyEvent:t};this._eventBus.fire(e||Ht,n)&&t.preventDefault()}var i},Nt.prototype.bind=function(t){this.unbind(),this._node=t,g.B.bind(t,"keydown",this._keydownHandler,!0),g.B.bind(t,"keyup",this._keyupHandler,!0),this._fire("bind")},Nt.prototype.getBinding=function(){return this._node},Nt.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),g.B.unbind(t,"keydown",this._keydownHandler,!0),g.B.unbind(t,"keyup",this._keyupHandler,!0)),this._node=null},Nt.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})},Nt.prototype.addListener=function(t,e,n){(0,r.mf)(t)&&(n=e,e=t,t=1e3),this._eventBus.on(n||Ht,t,e)},Nt.prototype.removeListener=function(t,e){this._eventBus.off(e||Ht,t)},Nt.prototype.hasModifier=function(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey},Nt.prototype.isCmd=Wt,Nt.prototype.isShift=Bt,Nt.prototype.isKey=jt;var It=["c","C",67],Ft=["v","V",86],zt=["y","Y",89],Kt=["z","Z",90];function Vt(t,e){var n=this;t.on("editorActions.init",500,(function(t){var i=t.editorActions;n.registerBindings(e,i)}))}Vt.$inject=["eventBus","keyboard"],Vt.prototype.registerBindings=function(t,e){function n(n,i){e.isRegistered(n)&&t.addListener(i)}n("undo",(function(t){var n=t.keyEvent;if(Wt(n)&&!Bt(n)&&jt(Kt,n))return e.trigger("undo"),!0})),n("redo",(function(t){var n=t.keyEvent;if(Wt(n)&&(jt(zt,n)||jt(Kt,n)&&Bt(n)))return e.trigger("redo"),!0})),n("copy",(function(t){var n=t.keyEvent;if(Wt(n)&&jt(It,n))return e.trigger("copy"),!0})),n("paste",(function(t){var n=t.keyEvent;if(Wt(n)&&jt(Ft,n))return e.trigger("paste"),!0})),n("stepZoom",(function(t){var n=t.keyEvent;if(jt(["+","Add","="],n)&&Wt(n))return e.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(t){var n=t.keyEvent;if(jt(["-","Subtract"],n)&&Wt(n))return e.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(t){var n=t.keyEvent;if(jt("0",n)&&Wt(n))return e.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(t){if(jt(["Backspace","Delete","Del"],t.keyEvent))return e.trigger("removeSelection"),!0}))};const Ut={__init__:["keyboard","keyboardBindings"],keyboard:["type",Nt],keyboardBindings:["type",Vt]};var Yt={moveSpeed:50,moveSpeedAccelerated:200};function Gt(t,e,n){var i=this;this._config=(0,r.f0)({},Yt,t||{}),e.addListener((function(t){var n=t.keyEvent,o=i._config;if(e.isCmd(n)&&e.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var r,a=e.isShift(n)?o.moveSpeedAccelerated:o.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":r="left";break;case"ArrowUp":case"Up":r="up";break;case"ArrowRight":case"Right":r="right";break;case"ArrowDown":case"Down":r="down"}return i.moveCanvas({speed:a,direction:r}),!0}})),this.moveCanvas=function(t){var e=0,i=0,o=t.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(t.direction){case"left":e=o;break;case"up":i=o;break;case"right":e=-o;break;case"down":i=-o}n.scroll({dx:e,dy:i})}}Gt.$inject=["config.keyboardMove","keyboard","canvas"];const $t={__depends__:[Ut],__init__:["keyboardMove"],keyboardMove:["type",Gt]};var qt=/^djs-cursor-.*$/;function Zt(t){var e=(0,g.Sh)(document.body);e.removeMatching(qt),t&&e.add("djs-cursor-"+t)}function Xt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jt(t,e){var n;function i(i){var o,r=n.start,a=n.button,s=G(i),l=Xt(s,r);!n.dragging&&(o=l,Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))>15)&&(n.dragging=!0,0===a&&function(t,e){e=e||"element.click",t.once(e,5e3,(function(){return!1}))}(t),Zt("grab")),n.dragging&&(l=Xt(s,n.last||n.start),e.scroll({dx:l.x,dy:l.y}),n.last=s),i.preventDefault()}function o(t){g.B.unbind(document,"mousemove",i),g.B.unbind(document,"mouseup",o),n=null,Zt(null)}t.on("element.mousedown",500,(function(t){return function(t){if(!(0,g.oq)(t.target,".djs-draggable")){var e=t.button;if(!(e>=2||t.ctrlKey||t.shiftKey||t.altKey))return n={button:e,start:G(t)},g.B.bind(document,"mousemove",i),g.B.bind(document,"mouseup",o),!0}}(t.originalEvent)})),this.isActive=function(){return!!n}}Jt.$inject=["eventBus","canvas"];const Qt={__init__:["moveCanvas"],moveCanvas:["type",Jt]};function te(t){return Math.log(t)/Math.log(10)}function ee(t,e){var n=te(t.min),i=te(t.max);return(Math.abs(n)+Math.abs(i))/e}var ne=Math.sign||function(t){return t>=0?1:-1},ie={min:.2,max:4};function oe(t,e,n){t=t||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,r.ak)(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||.75;var i=this;e.on("canvas.init",(function(e){i._init(!1!==t.enabled)}))}oe.$inject=["config.zoomScroll","eventBus","canvas"],oe.prototype.scroll=function(t){this._canvas.scroll(t)},oe.prototype.reset=function(){this._canvas.zoom("fit-viewport")},oe.prototype.zoom=function(t,e){var n=ee(ie,20);this._totalDelta+=t,Math.abs(this._totalDelta)>.1&&(this._zoom(t,e,n),this._totalDelta=0)},oe.prototype._handleWheel=function(t){if(!(0,g.oq)(t.target,".djs-scrollable",!0)){var e=this._container;t.preventDefault();var n,i=t.ctrlKey,o=t.shiftKey,r=-1*this._scale;if(r*=i?0===t.deltaMode?.02:.32:0===t.deltaMode?1:16,i){var a=e.getBoundingClientRect(),s={x:t.clientX-a.left,y:t.clientY-a.top};n=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*ne(t.deltaY)*r,this.zoom(n,s)}else n=o?{dx:r*t.deltaY,dy:0}:{dx:r*t.deltaX,dy:r*t.deltaY},this.scroll(n)}},oe.prototype.stepZoom=function(t,e){var n=ee(ie,10);this._zoom(t,e,n)},oe.prototype._zoom=function(t,e,n){var i=this._canvas,o=t>0?1:-1,r=te(i.zoom()),a=Math.round(r/n)*n;a+=n*o;var s,l,c=Math.pow(10,a);i.zoom((s=ie,l=c,Math.max(s.min,Math.min(s.max,l))),e)},oe.prototype.toggle=function(t){var e=this._container,n=this._handleWheel,i=this._enabled;return void 0===t&&(t=!i),i!==t&&g.B[t?"bind":"unbind"](e,"wheel",n,!1),this._enabled=t,t},oe.prototype._init=function(t){this.toggle(t)};const re={__init__:["zoomScroll"],zoomScroll:["type",oe]};function ae(t){Ct.call(this,t)}o()(ae,Ct),ae.prototype._navigationModules=[$t,Qt,re],ae.prototype._modules=[].concat(Ct.prototype._modules,ae.prototype._navigationModules)},252:(t,e,n)=>{function i(t,e){var n=o(t);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(e)}function o(t){return t&&t.businessObject||t}n.d(e,{is:()=>i,S:()=>o})},842:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(670),o=n(674),r=new(n(237).Z)("tt");function a(t,e){t.style.display=!1===e?"none":""}var s=".djs-tooltip";function l(t,e){var n,i;this._eventBus=t,this._canvas=e,this._ids=r,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(n=e.getContainer(),i=(0,o.H6)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />'),n.insertBefore(i,n.firstChild),i);var a=this;o.cl.bind(this._tooltipRoot,s,"mousedown",(function(t){t.stopPropagation()})),o.cl.bind(this._tooltipRoot,s,"mouseover",(function(t){a.trigger("mouseover",t)})),o.cl.bind(this._tooltipRoot,s,"mouseout",(function(t){a.trigger("mouseout",t)})),this._init()}l.$inject=["eventBus","canvas"],l.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var e=this._ids.next();return t=(0,i.f0)({},this._tooltipDefaults,t,{id:e}),this._addTooltip(t),t.timeout&&this.setTimeout(t),e},l.prototype.trigger=function(t,e){var n=e.delegateTarget||e.target,i=this.get((0,o.Lj)(n,"data-tooltip-id"));i&&("mouseover"===t&&i.timeout&&this.clearTimeout(i),"mouseout"===t&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))},l.prototype.get=function(t){return"string"!=typeof t&&(t=t.id),this._tooltips[t]},l.prototype.clearTimeout=function(t){if(t=this.get(t)){var e=t.removeTimer;e&&(clearTimeout(e),t.removeTimer=null)}},l.prototype.setTimeout=function(t){if(t=this.get(t)){this.clearTimeout(t);var e=this;t.removeTimer=setTimeout((function(){e.remove(t)}),t.timeout)}},l.prototype.remove=function(t){var e=this.get(t);e&&((0,o.Od)(e.html),(0,o.Od)(e.htmlContainer),delete e.htmlContainer,delete this._tooltips[e.id])},l.prototype.show=function(){a(this._tooltipRoot)},l.prototype.hide=function(){a(this._tooltipRoot,!1)},l.prototype._updateRoot=function(t){var e=t.scale||1,n=t.scale||1,i="matrix("+e+",0,0,"+n+","+-1*t.x*e+","+-1*t.y*n+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i},l.prototype._addTooltip=function(t){var e,n=t.id,r=t.html,a=this._tooltipRoot;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),(0,i.HD)(r)&&(r=(0,o.H6)(r)),(e=(0,o.H6)('<div data-tooltip-id="'+n+'" class="djs-tooltip" style="position: absolute">')).appendChild(r),t.type&&(0,o.Sh)(e).add("djs-tooltip-"+t.type),t.className&&(0,o.Sh)(e).add(t.className),t.htmlContainer=e,a.appendChild(e),this._tooltips[n]=t,this._updateTooltip(t)},l.prototype._updateTooltip=function(t){var e,n,o,r=t.position;e=t.htmlContainer,n=r.x,o=r.y,(0,i.f0)(e.style,{left:n+"px",top:o+"px"})},l.prototype._updateTooltipVisibilty=function(t){(0,i.Ed)(this._tooltips,(function(e){var n=e.show,i=e.htmlContainer,o=!0;n&&((n.minZoom>t.scale||n.maxZoom<t.scale)&&(o=!1),a(i,o))}))},l.prototype._init=function(){var t=this;this._eventBus.on("canvas.viewbox.changing",(function(e){t.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateTooltipVisibilty(n),t.show()}))};const c={__init__:["tooltips"],tooltips:["type",l]}},237:(t,e,n)=>{function i(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(1e9*Math.random())+"-"}n.d(e,{Z:()=>i}),i.prototype.next=function(){return this._prefix+ ++this._counter}}}]);